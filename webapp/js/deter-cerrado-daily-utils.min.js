var utils={datePicker:{initComponent(){let options={locale:"pt-br",format:"L",useCurrent:!1};$("#datepickerstart").datetimepicker(options),$("#datepickerend").datetimepicker(options)},setInterval(dt0,dt1){this.setStartDate(dt0),this.setEndDate(dt1)},setStartDate(dt){this.setProperty("start","date",dt)},setEndDate(dt){this.setProperty("end","date",dt)},getStartDate(){return this.getProperty("start","date")},getEndDate(){return this.getProperty("end","date")},setStartMinDate(dt){this.setProperty("start","minDate",dt)},setStartMaxDate(dt){this.setProperty("start","maxDate",dt)},setEndMinDate(dt){this.setProperty("end","minDate",dt)},setEndMaxDate(dt){this.setProperty("end","maxDate",dt)},setProperty(which,property,val){$("#datepicker"+which).datetimepicker(property,val)},getProperty:(which,property)=>$("#datepicker"+which).datetimepicker(property)},displayLoginExpiredMessage(){"undefined"!=typeof Authentication&&Authentication.isExpiredToken()?(d3.select("#expired_token_box").style("display",""),Authentication.removeExpiredToken()):d3.select("#expired_token_box").style("display","none")},setStateAnimateIcon:function(id,enable,error){document.getElementById(id).style.display="",document.getElementById(id).className=enable?"glyphicon glyphicon-refresh glyphicon-refresh-animate":"glyphicon "+(error?"glyphicon-warning-sign glyphicon-red":"glyphicon-ok glyphicon-green")},getSelectedFormatFile:function(){var opt=document.getElementById("download-option");return opt||(opt="SHAPE-ZIP"),opt[opt.selectedIndex].value},removeLittlestValues:function(sourceGroup){return{all:function(){return sourceGroup.all().filter((function(d){return Math.abs(d.value)<1e-6?0:d.value}))},top:function(n){return sourceGroup.top(1/0).filter((function(d){return Math.abs(d.value)>1e-6})).slice(0,n)}}},setTitle:function(elementId,title){elementId="title-chart-"+elementId,document.getElementById(elementId).innerHTML=this.wildcardExchange(title)},wildcardExchange:function(str){var dim="area"==graph.config.defaultDataDimension?Translation[Lang.language].areas:Translation[Lang.language].num_alertas,unit="area"==graph.config.defaultDataDimension?"kmÂ²":Translation[Lang.language].unit_alerts;return str=(str=str.replace(/%dim%/gi,(function(x){return"%Dim%"==x?dim.charAt(0).toUpperCase()+dim.slice(1):dim}))).replace(/%unit%/gi,(function(x){return"%Unit%"==x?unit.charAt(0).toUpperCase()+unit.slice(1):unit}))},numberByUnit:function(num){return"area"==graph.config.defaultDataDimension?num.toFixed(2):num.toFixed(0)},onResize:function(event){clearTimeout(graph.config.resizeTimeout),graph.config.resizeTimeout=setTimeout(graph.doResize,100)},getDefaultHeight:function(){return 1*(.4*window.innerHeight).toFixed(0)},getNumberOfDaysForRangeDate:function(dt1,dt2){const ONE_DAY=864e5,differenceMs=Math.abs(dt1-dt2);return Math.round(differenceMs/864e5)}};